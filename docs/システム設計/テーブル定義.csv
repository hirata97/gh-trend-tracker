"id","テーブル名","項目名","データ形式","制約","初期値","外部キー","概要"
"tab-REP","repositories","id","UUID","PRIMARY KEY, NOT NULL","GEN_RANDOM_UUID()","","リポジトリを一意に識別するID。"
"tab-REP","repositories","github_id","BIGINT","UNIQUE, NOT NULL","","","GitHubが割り当てるリポジトリの数値ID。"
"tab-REP","repositories","full_name","TEXT","UNIQUE, NOT NULL","","","リポジトリのフルネーム（例: owner/repo-name）。検索機能で使用 (FUN-016)。"
"tab-REP","repositories","description","TEXT","","NULL","","リポジトリの概要説明 (FUN-002, 003)。"
"tab-REP","repositories","language","TEXT","NOT NULL","'unknown'","languages.code (T7)","リポジトリの主要言語。フィルタリングに使用 (FUN-007)。"
"tab-REP","repositories","stargazers_count","INT","NOT NULL","0","","現在の総スター数。ソートに使用 (FUN-010)。"
"tab-REP","repositories","forks_count","INT","NOT NULL","0","","現在の総フォーク数 (FUN-002, 003)。"
"tab-REP","repositories","topics","JSONB","","[]","","GitHubトピックスのリスト (FUN-048)。"
"tab-REP","repositories","last_synced_at","TIMESTAMPTZ","NOT NULL","NOW()","","GitHub APIから最後に情報を取得し、マスタを更新した日時 (FUN-052)。"
"tab-SNP","repo_snapshots","id","BIGINT","PRIMARY KEY, NOT NULL, AUTO INCREMENT","","","スナップショットレコードのID。"
"tab-SNP","repo_snapshots","repo_id","UUID","NOT NULL","","repositories.id (T1)","対象リポジトリID。"
"tab-SNP","repo_snapshots","snapshot_date","DATE","NOT NULL, UNIQUE(repo_id, snapshot_date)","CURRENT_DATE","","スナップショットを取得した日付 (FUN-024)。"
"tab-SNP","repo_snapshots","stargazers_count","INT","NOT NULL","0","","その日の総スター数。過去90日間の推移データとして使用 (FUN-012, 013)。"
"tab-SNP","repo_snapshots","daily_increase","INT","NOT NULL","0","","前日からのスター増加数。グラフのツールチップに使用 (FUN-045)。"
"tab-MET","metrics_daily","repo_id","UUID","PRIMARY KEY (Part 1), NOT NULL","","repositories.id (T1)","対象リポジトリID。"
"tab-MET","metrics_daily","calculated_date","DATE","PRIMARY KEY (Part 2), NOT NULL","CURRENT_DATE","","計算を行った日付 (FUN-028)。"
"tab-MET","metrics_daily","stars_7d_increase","INT","NOT NULL","0","","過去7日間のスター増加数 (FUN-004)。"
"tab-MET","metrics_daily","stars_30d_increase","INT","NOT NULL","0","","過去30日間のスター増加数 (FUN-005)。"
"tab-MET","metrics_daily","stars_7d_rate","REAL","NOT NULL","0.0","","過去7日間のスター増加率。ランキングのソート基準 (FUN-008)。"
"tab-MET","metrics_daily","stars_30d_rate","REAL","NOT NULL","0.0","","過去30日間のスター増加率。ランキングのソート基準 (FUN-009)。"
"tab-RKL","ranking_weekly","id","UUID","PRIMARY KEY, NOT NULL","GEN_RANDOM_UUID()","","週別ランキング集計レコードID。"
"tab-RKL","ranking_weekly","year","INT","NOT NULL, UNIQUE(year, week_number, language)","","","集計対象の年。"
"tab-RKL","ranking_weekly","week_number","INT","NOT NULL","","","ISO週番号 (FUN-021)。"
"tab-RKL","ranking_weekly","language","TEXT","NOT NULL","'all'","languages.code (T7)","集計対象の言語。"
"tab-RKL","ranking_weekly","rank_data","JSONB","NOT NULL","[{""rank"": 1, ""repo_id"": ""00000000-0000-0000-0000-000000000000"", ""star_increase"": 500, ""repo_full_name"": ""owner/repo""}]","","週別トップ10/100のランキング結果データ。事前集計済み (FUN-019, 026)。"
"tab-USR","users","id","UUID","PRIMARY KEY, NOT NULL","GEN_RANDOM_UUID()","","ユーザーを一意に識別するID。"
"tab-USR","users","github_id","BIGINT","UNIQUE, NOT NULL","","","GitHub OAuthで取得したユーザーID (FUN-031)。"
"tab-USR","users","username","TEXT","NOT NULL","","","GitHubのユーザー名。"
"tab-USR","users","plan","TEXT","NOT NULL","'FREE'","","現在の課金プラン ('FREE', 'PRO', 'ENTERPRISE') (FUN-033, 034)。"
"tab-USR","users","credits_remaining","INT","NOT NULL","0","","AIオンデマンド生成に使用可能な残クレジット (FUN-040)。"
"tab-USR","users","stripe_customer_id","TEXT","UNIQUE","NULL","","Stripeの顧客ID。課金連携用 (FUN-051)。"
"tab-AIS","ai_summaries","repo_id","UUID","PRIMARY KEY (Part 1), NOT NULL","","repositories.id (T1)","対象リポジトリID。"
"tab-AIS","ai_summaries","language","TEXT","PRIMARY KEY (Part 2), NOT NULL","'ja'","","要約の生成言語 ('ja' or 'en')。"
"tab-AIS","ai_summaries","generated_at","TIMESTAMPTZ","NOT NULL","NOW()","","要約が最後に生成された日時 (FUN-041)。"
"tab-AIS","ai_summaries","summary_data","JSONB","NOT NULL","{""title"": ""Example Summary"", ""abstract"": ""This is an abstract."", ""sections"": [{""heading"": ""Key Feature 1"", ""content"": ""Detail 1""}]}","","AI生成された構造化要約データ (FUN-035, 041)。"
"tab-LNG","languages","code","TEXT","PRIMARY KEY, NOT NULL","","","言語の識別コード（例: 'ts', 'py', 'all'）。"
"tab-LNG","languages","name_ja","TEXT","NOT NULL","","","UI表示用の日本語名 (FUN-006)。"
"tab-LNG","languages","sort_order","INT","NOT NULL","100","","UI上での表示順序。"